<div class="main-content">

    <div class="container-fluid">

        <div class="row">

            <div class="col-md-12">

                <div class="col-md-3 pull-right">
                    <button (click)="cadastrarVisitante()" class="btn-outline-info w-100" mat-raised-button>
                        <mat-icon>person_add</mat-icon>
                        Cadastrar Visitante
                    </button>
                </div>

            </div>

            <div class="col-md-12">

                <div class="card">

                    <div class="card-header card-header-info">
                        <h4 class="card-title ">Listar Visitantes</h4>
                    </div>

                    <div class="card-body">

                        <div class="table-responsive">

                            <mat-form-field>
                                <input (keyup)="applyFilter($event.target.value)" matInput placeholder="Filter">
                            </mat-form-field>

                            <table [dataSource]="dataSource" class="table" mat-table>

                                <ng-container matColumnDef="id">
                                    <th *matHeaderCellDef class="text-center" mat-header-cell>ID</th>
                                    <td *matCellDef="let element" mat-cell> {{element.id}} </td>
                                </ng-container>

                                <ng-container matColumnDef="nome">
                                    <th *matHeaderCellDef class="text-center" mat-header-cell>Nome</th>
                                    <td *matCellDef="let element" mat-cell> {{element.nome}} </td>
                                </ng-container>

                                <ng-container matColumnDef="morador">
                                    <th *matHeaderCellDef class="text-center" mat-header-cell>Morador</th>
                                    <td *matCellDef="let element" mat-cell> {{element.unidade.usuario.nome}} </td>
                                </ng-container>

                                <ng-container matColumnDef="bloco">
                                    <th *matHeaderCellDef class="text-center" mat-header-cell>Bloco</th>
                                    <td *matCellDef="let element" mat-cell> {{element.unidade.bloco}} </td>
                                </ng-container>

                                <ng-container matColumnDef="apartamento">
                                    <th *matHeaderCellDef class="text-center" mat-header-cell>Apartamento</th>
                                    <td *matCellDef="let element" mat-cell> {{element.unidade.numero}} </td>
                                </ng-container>

                                <ng-container matColumnDef="situacao">
                                    <th *matHeaderCellDef class="text-center" mat-header-cell>Situação</th>
                                    <td *matCellDef="let element" mat-cell> {{element.situacao}} </td>
                                </ng-container>

                                <ng-container matColumnDef="acoes">
                                    <th *matHeaderCellDef class="text-center" mat-header-cell>Ações</th>
                                    <td *matCellDef="let element" mat-cell>
                                        <button (click)="detalharVisitante(element)" class="text-info" mat-icon-button
                                                matTooltip="Detalhar">
                                            <i class="material-icons">list</i>
                                        </button>
                                        <button (click)="editarVisitante(element)" class="text-warning" mat-icon-button
                                                matTooltip="Editar">
                                            <i class="material-icons">edit</i>
                                        </button>
                                        <button (click)="alterarSituacaoVisitante(element)" class="text-info" mat-icon-button
                                                matTooltip="Alterar Situação">
                                            <i class="material-icons">swap_horiz</i>
                                        </button>
                                        <button (click)="confirmarDelecaoVisitante(element)" class="text-danger"
                                                mat-icon-button matTooltip="Excluir">
                                            <i class="material-icons">delete_forever</i>
                                        </button>
                                    </td>
                                </ng-container>

                                <tr *matHeaderRowDef="displayedColumns" mat-header-row></tr>
                                <tr *matRowDef="let row; columns: displayedColumns;" mat-row></tr>

                            </table>

                            <mat-paginator [pageSizeOptions]="[5, 10, 25]" showFirstLastButtons></mat-paginator>

                        </div>

                    </div>

                </div>

            </div>

        </div>

    </div>

</div>
